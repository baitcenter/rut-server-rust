(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98583078"],{"07d8":function(t,e,n){"use strict";var r=n("5aee"),i=n("9f79"),s="Set";t.exports=n("ada4")(s,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,s),t=0===t?0:t,t)}},r)},"0b64":function(t,e,n){var r=n("f772"),i=n("9003"),s=n("5168")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},"14db":function(t,e,n){},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},4517:function(t,e,n){var r=n("a22a");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"549b":function(t,e,n){"use strict";var r=n("d864"),i=n("63b6"),s=n("241e"),o=n("b0dc"),a=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");i(i.S+i.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=s(t),h="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,_=void 0!==p,m=0,b=l(d);if(_&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&a(b))for(e=c(d.length),n=new h(e);e>m;m++)u(n,m,_?p(d[m],m):d[m]);else for(f=b.call(d),n=new h;!(i=f.next()).done;m++)u(n,m,_?o(f,p,[i.value,m],!0):i.value);return n.length=m,n}})},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),s=n("4bf8"),o=n("79e5"),a=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),i(t))}})},"57b1":function(t,e,n){var r=n("d864"),i=n("335c"),s=n("241e"),o=n("b447"),a=n("bfac");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,h=e||a;return function(e,a,v){for(var p,_,m=s(e),b=i(m),g=r(a,v,3),w=o(b.length),y=0,C=n?h(e,w):c?h(e,0):void 0;w>y;y++)if((d||y in b)&&(p=b[y],_=g(p,y,m),t))if(n)C[y]=_;else if(_)switch(t){case 3:return!0;case 5:return p;case 6:return y;case 2:C.push(p)}else if(l)return!1;return f?-1:u||l?l:C}}},"57e3":function(t,e,n){n("68f7")("Set")},"5aee":function(t,e,n){"use strict";var r=n("d9f6").f,i=n("a159"),s=n("5c95"),o=n("d864"),a=n("1173"),c=n("a22a"),u=n("30f1"),l=n("50ed"),f=n("4c95"),d=n("8e60"),h=n("ebfd").fastKey,v=n("9f79"),p=d?"_s":"size",_=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=r&&c(r,n,t[u],t)});return s(l.prototype,{clear:function(){for(var t=v(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var n=v(this,e),r=_(n,t);if(r){var i=r.n,s=r.p;delete n._i[r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==r&&(n._f=i),n._l==r&&(n._l=s),n[p]--}return!!r},forEach:function(t){v(this,e);var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!_(v(this,e),t)}}),d&&r(l.prototype,"size",{get:function(){return v(this,e)[p]}}),l},def:function(t,e,n){var r,i,s=_(t,e);return s?s.v=n:(t._l=s={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[p]++,"F"!==i&&(t._i[i]=s)),t},getEntry:_,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},"5d73":function(t,e,n){t.exports=n("469f")},"68f7":function(t,e,n){"use strict";var r=n("63b6"),i=n("79aa"),s=n("d864"),o=n("a22a");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,c=arguments[1];return i(this),e=void 0!==c,e&&i(c),void 0==t?new this:(n=[],e?(r=0,a=s(c,arguments[2],2),o(t,!1,function(t){n.push(a(t,r++))})):o(t,!1,n.push,n),new this(n))}})}},"6e15":function(t,e,n){},7075:function(t,e,n){"use strict";var r=n("63b6");t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"74be":function(t,e,n){var r=n("63b6");r(r.P+r.R,"Set",{toJSON:n("f228")("Set")})},"774e":function(t,e,n){t.exports=n("d2d5")},"7d7b":function(t,e,n){var r=n("e4ae"),i=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"90b1":function(t,e,n){"use strict";var r=n("f163"),i=n.n(r);i.a},"9f79":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},ada4:function(t,e,n){"use strict";var r=n("e53d"),i=n("63b6"),s=n("ebfd"),o=n("294c"),a=n("35e8"),c=n("5c95"),u=n("a22a"),l=n("1173"),f=n("f772"),d=n("45f2"),h=n("d9f6").f,v=n("57b1")(0),p=n("8e60");t.exports=function(t,e,n,_,m,b){var g=r[t],w=g,y=m?"set":"add",C=w&&w.prototype,k={};return p&&"function"==typeof w&&(b||C.forEach&&!o(function(){(new w).entries().next()}))?(w=e(function(e,n){l(e,w,t,"_c"),e._c=new g,void 0!=n&&u(n,m,e[y],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in C&&(!b||"clear"!=t)&&a(w.prototype,t,function(n,r){if(l(this,w,t),!e&&b&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),b||h(w.prototype,"size",{get:function(){return this._c.size}})):(w=_.getConstructor(e,t,m,y),c(w.prototype,n),s.NEED=!0),d(w,t),k[t]=w,i(i.G+i.W+i.F,k),b||_.setStrong(w,t,m),w}},af24:function(t,e,n){"use strict";var r=n("6e15"),i=n.n(r);i.a},b6d0:function(t,e,n){t.exports=n("fa2b")},b97a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rut?n("div",{staticClass:"rut-page"},[n("div",{staticClass:"rut-view"},[n("div",{staticClass:"tagbar"},[n("el-button",{attrs:{type:"text"},on:{click:t.toAddTag}},[t._v("+Tag:")]),t._l(t.tags,function(e,r){return n("span",{key:r,staticClass:"tag"},[n("router-link",{attrs:{to:"/tag/"+e}},[n("b",[t._v(t._s(e))])])],1)})],2),n("el-dialog",{attrs:{title:"Add Tag",width:"350px",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[n("el-input",{attrs:{size:"mini",placeholder:"Input a Tag, Press Enter to Add"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTag(e)}},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}}),t._l(t.newTags,function(e,r){return n("div",{key:r},[n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.newTags.splice(r,1)}}},[t._v("\n            ×\n          ")]),t._v("   \n          "+t._s(e)+" \n        ")],1)])}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.onAddTags}},[t._v("Add")])],1)],2),n("div",{staticClass:"title"},[n("h2",[t._v(t._s(t.rutTitle))]),n("div",{staticClass:"meta"},[[t.rut.author_id?n("span",[n("a",{attrs:{href:t.gen_url,target:"_blank"}},[t._v(t._s(t.rut.author_id))])]):n("span",[n("router-link",{attrs:{to:"/p/"+t.rut.uname}},[t._v(t._s(t.rut.uname))])],1)],t._v("\n        | Created: "+t._s(t._f("toMDY")(t.rut.create_at))+" \n        "),t.rut.renew_at?n("span",[t._v(" | Updated: "+t._s(t._f("toMDY")(t.rut.renew_at)))]):t._e(),t._v("\n        | including "+t._s(t._f("pluralise")(t.rut.item_count,"item"))+" \n        | "),n("router-link",{attrs:{to:"/rforum/"+t.rutid}},[t._v("\n            "+t._s(t._f("pluralise")(t.rut.comment_count,"Comment"))+"\n          ")]),t.canEdit?n("router-link",{attrs:{to:"/update/r/"+t.rutid}},[n("b",[t._v(" | Edit...")])]):t._e(),t.canEdit?n("router-link",{attrs:{to:"/collect/"+t.rutid}},[n("b",[t._v(" | Add...")])]):t._e()],2)]),n("div",{staticClass:"content"},[n("div",{domProps:{innerHTML:t._s(t.md(t.rut.content))}})])],1),t._l(t.order_collects,function(e){return n("collect-sum",{key:e.id,staticClass:"item",attrs:{collect:e,canEdit:t.canEdit}})}),n("div",{staticClass:"toolbar"},[n("el-button",{attrs:{type:"text"},on:{click:t.starOrUnstarRut}},[t._v("\n      "+t._s("unstar"===t.starStatus?"Star":"Unstar")+"\n    ")]),n("share-bar")],1),n("div",{staticClass:"rut-side"})],2):t._e()},i=[],s=n("b6d0"),o=n.n(s),a=n("774e"),c=n.n(a),u=(n("6762"),n("2fdb"),n("5176")),l=n.n(u),f=n("5d73"),d=n.n(f),h=(n("55dd"),n("d722")),v=n("0a5a"),p=n("e6d6"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect-sum"},[n("div",{staticClass:"item-info"},[n("b",{staticClass:"indicator"},[t._v("#"+t._s(t.collect.item_order)+" ")]),n("router-link",{attrs:{to:"/item/"+t.collect.id}},[t._v(t._s(t.collect.title))]),n("small",{staticStyle:{color:"#aaa","font-size":"14px"}},[n("br"),t._v("   "+t._s(t.collect.uiid)+"  "+t._s(t.collect.authors)+"\n    ")]),n("span",[n("img",{staticClass:"thumb",attrs:{src:t.collect.cover,referrerPolicy:"no-referrer"}})])],1),t.showCtn?n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.md(t.content))}}):t._e(),t.canEdit?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.showCtn=!t.showCtn}}},[t.showCtn?n("small",{staticClass:"hiden"},[t._v("Edit")]):n("b",[t._v("Cancel")])]):t._e(),t.showCtn?t._e():n("div",[n("v-form",{ref:"form",staticClass:"collect-form"},[n("v-textarea",{attrs:{counter:"",rules:t.mustRule,"auto-grow":""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.editContent}},[t._v("\n      Done\n    ")]),n("el-dialog",{attrs:{title:"Confirm Delete?",width:"270px",visible:t.showCfm},on:{"update:visible":function(e){t.showCfm=e}}},[n("span",[t._v("Confirm Delete? Cannot Recover")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showCfm=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.delContent}},[t._v("\n          Confirm Delete\n        ")])],1)])],1)],1)},m=[],b={name:"collect-sum",props:["collect","canEdit"],data:function(){return{showCtn:!0,showCfm:!1,content:"",mustRule:[function(t){return!!t||"required"}]}},methods:{md:function(t){return Object(p["a"])(t)},editContent:function(){var t=this,e=this.$store.getters.actID;if(this.$refs.form.validate()&&e===this.collect.uname&&Object(v["a"])()){var n={id:this.collect.cid,content:this.content.trim(),uname:e};Object(h["A"])(this.collect.cid,n).then(function(e){t.content=e.data.collect.content,t.showCtn=!0})}else this.$message("Invalid Input or Need to Log in")},delContent:function(){var t=this,e=this.$store.getters.actID;if(e!==this.collect.uname||!Object(v["a"])())return this.showCfm=!1,void this.$message("No Permission");var n={collect_id:this.collect.cid,rut_id:this.collect.rutid,item_id:this.collect.id,uname:e};Object(h["g"])(this.collect.cid,n).then(function(){t.showCfm=!1,t.$router.push("/r/".concat(t.collect.rutid))})}},created:function(){this.content=this.collect.content}},g=b,w=(n("dc31"),n("2877")),y=Object(w["a"])(g,_,m,!1,null,"233b22c0",null),C=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{id:"social-share-bar"}},[n("small",[t._v("Share:")]),n("a",{staticClass:"share-link twitter",attrs:{title:"Twitter",rel:"nofollow noopener noreferrer"},on:{click:function(e){e.preventDefault(),t.shareWindow("https://twitter.com/share?text="+t.title()+"&url="+t.url)}}},[n("small",{staticClass:"icon"},[t._v("Tw")])]),n("a",{staticClass:"share-link facebook",attrs:{title:"Facebook",rel:"nofollow noopener noreferrer"},on:{click:function(e){return e.preventDefault(),t.shareWindow("https://www.facebook.com/sharer/sharer.php?u="+t.url)}}},[n("small",{staticClass:"icon"},[t._v("Fb")])])])},x=[],T={name:"share-bar",props:{passUrl:String,passTitle:String,prefix:{type:String,default:""}},computed:{url:function(){return this.passUrl||"https://ruthub.com".concat(this.$route.fullPath)}},methods:{title:function(){try{if(document)return this.prefix+(this.passTitle||document.title)}catch(t){return"RutHub"}},shareWindow:function(t){t=encodeURI(t),console.log(t);var e="newWin",n=screen.availWidth/2,r=screen.availHeight/5*2,i=(screen.availHeight-r)/2,s=(screen.availWidth-n)/2,o="scrollbars=0,status=0,menubar=0,resizable=2,location=0",a="top=".concat(i,",left=").concat(s,",width=").concat(n,",height=").concat(r,",").concat(o),c=window.open(t,e,a);c.focus()}}},S=T,O=(n("af24"),Object(w["a"])(S,k,x,!1,null,"2cc69e87",null)),$=O.exports,E={name:"rut-view",components:{CollectSum:C,ShareBar:$},data:function(){return{rutTitle:"",rutid:"",items:[],collects:[],starStatus:"",tags:[],show:!1,rut_uname:"",newTag:"",newTags:[],delTags:[]}},computed:{rut:function(){return this.$store.state.rut.ruts[this.$route.params.id]},order_collects:function(){return this.collects.sort(function(t,e){return t.item_order-e.item_order})},gen_url:function(){var t=this.rut.url;return t||"https://www.google.com/search?q="+this.rut.author_id},canEdit:function(){return this.rut_uname===this.$store.getters.actID&&Object(v["a"])()}},title:function(){return this.rutTitle},methods:{loadRut:function(){var t=this,e=this.rutid=this.$route.params.id;this.$store.dispatch("getRut",e).then(function(n){t.rutTitle=n.title,t.loadItems(e),t.loadTags(e),t.rut_uname=n.uname})},loadItems:function(t){var e=this;Object(h["l"])("rut",t).then(function(n){var r=n.data.items;e.items=r,Object(h["h"])("rut",t).then(function(t){var n=!0,i=!1,s=void 0;try{for(var o,a=d()(t.data.collects);!(n=(o=a.next()).done);n=!0){var c=o.value,u=!0,f=!1,h=void 0;try{for(var v,p=d()(r);!(u=(v=p.next()).done);u=!0){var _=v.value;if(c.item_id===_.id){var m={cid:c.id,rutid:c.rut_id,uname:c.uname,item_order:c.item_order,content:c.content};l()(m,_),e.collects.push(m)}}}catch(b){f=!0,h=b}finally{try{u||null==p.return||p.return()}finally{if(f)throw h}}}}catch(b){i=!0,s=b}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}})})},loadTags:function(t){var e=this;Object(h["p"])("rut",t).then(function(t){e.tags=t.data.tags})},toAddTag:function(){Object(v["a"])()?this.show=!0:this.$message("Need to Log in")},addNewTag:function(){var t=this.newTag.trim();t&&t.length<16&&!t.includes(" ")?(this.newTags.push(t),this.newTag=""):this.$message({showClose:!0,message:"Must be 16 less and no whitespace"})},onAddTags:function(){if(Object(v["a"])()){if(this.newTags.length<=0)return;var t=c()(new o.a(this.newTags)),e={tname:t,rut_id:this.rutid,action:"1"};Object(h["z"])(1,this.rutid,e),this.show=!1,this.tags=this.tags.concat(t)}else this.$message({showClose:!0,message:"Should Log in to Continue"}),this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},checkStar:function(){var t=this;Object(v["a"])()?Object(h["d"])(this.rutid).then(function(e){200===e.data.status&&(t.starStatus=e.data.message)}):this.starStatus="unstar"},starOrUnstarRut:function(){var t=this;Object(v["a"])()||(this.$message({message:"Please Login"}),this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}}));var e=this.rutid;"unstar"===this.starStatus?Object(h["x"])(e,1).then(function(e){t.starStatus=e.data.message}):Object(h["x"])(e,0).then(function(e){t.starStatus=e.data.message})},md:function(t){return Object(p["a"])(t)}},watch:{$route:"loadRut"},created:function(){this.loadRut(),this.checkStar()}},j=E,A=(n("90b1"),Object(w["a"])(j,r,i,!1,null,"737ea45d",null));e["default"]=A.exports},bfac:function(t,e,n){var r=n("0b64");t.exports=function(t,e){return new(r(t))(e)}},c6fb:function(t,e,n){n("7075")("Set")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},dc31:function(t,e,n){"use strict";var r=n("14db"),i=n.n(r);i.a},f163:function(t,e,n){},f228:function(t,e,n){var r=n("40c3"),i=n("4517");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},fa2b:function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("07d8"),n("74be"),n("c6fb"),n("57e3"),t.exports=n("584a").Set}}]);
//# sourceMappingURL=chunk-98583078.8dd24f59.js.map