{"version":3,"sources":["webpack:///./src/util/constant.js","webpack:///./src/components/Item/UpdateItem.vue?af21","webpack:///src/components/Item/UpdateItem.vue","webpack:///./src/components/Item/UpdateItem.vue?3798","webpack:///./src/components/Item/UpdateItem.vue","webpack:///./src/components/Item/UpdateItem.vue?b12d"],"names":["__webpack_require__","d","__webpack_exports__","regUrl","regUiid","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","label","counter","rules","titleRule","rows","auto-grow","model","value","callback","$$v","title","expression","uiid","authors","lenRule","cover","url","edition","pubDate","publisher","category","detail","type","size","on","click","onUpdate","_v","staticRenderFns","staticStyle","color","font-size","UpdateItemvue_type_script_lang_js_","name","components","data","itemid","mustRule","v","length","computed","concat","methods","_this","$refs","form","validate","Object","auth","_uiid","replace","constant","id","trim","pub_at","api","then","resp","item","updateTime","lastUpdate","$store","commit","$router","push","$message","loadItem","_this2","$route","params","dispatch","created","Item_UpdateItemvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UpdateItem_vue_vue_type_style_index_0_id_a2a05bc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UpdateItem_vue_vue_type_style_index_0_id_a2a05bc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-12f794ea.2aaf98c1.js","sourcesContent":["// store some constants\n\n// re\nexport const regUrl = /^(https?):\\/\\/([^/:]+)(:[0-9]+)?(\\/.*)?$/\nexport const regPsw = /^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[#@!~%^$&*-])[a-zA-Z\\d#@!~%^$&*-]{8,18}$/\nexport const regEmail = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/\nexport const regName = /^[\\w-]{3,16}$/\nexport const regTag = /[\\n|\\r|\\s]#(\\w+)/g  // /(?<=[\\n|\\r|\\s])#(\\w+)/g N/A SAFARI, FIREFOX\nexport const regUiid = /[-_ ]/gi","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"update-page\"},[_vm._m(0),_c('v-form',{ref:\"form\",staticClass:\"update-form\"},[_c('v-textarea',{attrs:{\"label\":\"Title\",\"counter\":120,\"rules\":_vm.titleRule,\"rows\":1,\"auto-grow\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-text-field',{attrs:{\"label\":\"UID: ISBN..\"},model:{value:(_vm.uiid),callback:function ($$v) {_vm.uiid=$$v},expression:\"uiid\"}}),_c('v-text-field',{attrs:{\"label\":\"Author or Instructor\",\"counter\":120,\"rules\":_vm.titleRule},model:{value:(_vm.authors),callback:function ($$v) {_vm.authors=$$v},expression:\"authors\"}}),_c('v-textarea',{attrs:{\"label\":\"Cover Image URL\",\"counter\":120,\"rules\":_vm.lenRule,\"rows\":1,\"auto-grow\":\"\"},model:{value:(_vm.cover),callback:function ($$v) {_vm.cover=$$v},expression:\"cover\"}}),_c('v-textarea',{attrs:{\"label\":\"Resource URL\",\"counter\":120,\"rules\":_vm.lenRule,\"rows\":1,\"auto-grow\":\"\"},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('v-text-field',{attrs:{\"label\":\"Edition\",\"counter\":120,\"rules\":_vm.lenRule},model:{value:(_vm.edition),callback:function ($$v) {_vm.edition=$$v},expression:\"edition\"}}),_c('v-text-field',{attrs:{\"label\":\"Publish Date\"},model:{value:(_vm.pubDate),callback:function ($$v) {_vm.pubDate=$$v},expression:\"pubDate\"}}),_c('v-text-field',{attrs:{\"label\":\"Publisher\",\"counter\":120,\"rules\":_vm.lenRule},model:{value:(_vm.publisher),callback:function ($$v) {_vm.publisher=$$v},expression:\"publisher\"}}),_c('v-text-field',{attrs:{\"label\":\"Category\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}}),_c('v-textarea',{attrs:{\"label\":\"Detail\",\"counter\":\"\",\"auto-grow\":\"\"},model:{value:(_vm.detail),callback:function ($$v) {_vm.detail=$$v},expression:\"detail\"}})],1),_c('el-button',{staticClass:\"blockbtn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onUpdate}},[_vm._v(\"Done and Update\\n  \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"Update An Item \")]),_c('small',{staticStyle:{\"color\":\"green\",\"font-size\":\"0.8em\"}},[_vm._v(\"books, courses, etc.\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"update-page\">\n    <div class=\"title\">\n      <span>Update An Item </span>\n      <small style=\"color:green;font-size:0.8em;\">books, courses, etc.</small> \n    </div>\n    <v-form ref=\"form\" class=\"update-form\">\n      <v-textarea\n        v-model= \"title\"\n        label= \"Title\"\n        :counter = \"120\"\n        :rules= \"titleRule\"\n        :rows= \"1\"\n        auto-grow\n      ></v-textarea>\n      <v-text-field\n        v-model= \"uiid\"\n        label= \"UID: ISBN..\"\n      ></v-text-field>\n      <v-text-field\n        v-model= \"authors\"\n        label= \"Author or Instructor\"\n        :counter= \"120\"\n        :rules= \"titleRule\"\n      ></v-text-field>\n      <v-textarea\n        v-model=\"cover\"\n        label = \"Cover Image URL\"\n        :counter = \"120\"\n        :rules = \"lenRule\"\n        :rows = \"1\"\n        auto-grow\n      ></v-textarea>\n      <v-textarea\n        v-model=\"url\"\n        label = \"Resource URL\"\n        :counter = \"120\"\n        :rules = \"lenRule\"\n        :rows = \"1\"\n        auto-grow\n      ></v-textarea>\n      <v-text-field\n        v-model=\"edition\"\n        label=\"Edition\"\n        :counter = \"120\"\n        :rules=\"lenRule\"\n      ></v-text-field>\n      <v-text-field\n        v-model= \"pubDate\"\n        label= \"Publish Date\"\n      ></v-text-field>\n      <v-text-field\n        v-model= \"publisher\"\n        label= \"Publisher\"\n        :counter = \"120\"\n        :rules= \"lenRule\"\n      ></v-text-field>\n      <v-text-field\n        v-model=\"category\"\n        label=\"Category\"\n      ></v-text-field>\n      <v-textarea\n        v-model=\"detail\"\n        label=\"Detail\"\n        counter\n        auto-grow\n      ></v-textarea>\n    </v-form>\n    <el-button class=\"blockbtn\" type=\"primary\" size=\"small\"\n               @click=\"onUpdate\">Done and Update\n    </el-button>\n  </div>\n</template>\n\n<script>\nimport { updateItem } from '../../api'\nimport { checkAuth } from '../../util/auth'\nimport { regUiid } from '../../util/constant'\n\nexport default {\n  name: 'update-item',\n  title: 'Update An Item',\n  components: { },\n  data () {\n    return {\n      itemid: '',\n      title: '',\n      uiid: '',\n      authors: '',\n      pubDate: '',\n      publisher: '',\n      category: 'Book',\n      url: '',\n      cover: '',\n      edition: '',\n      detail: '',\n      mustRule: [ v => !!v || 'required' ],\n      lenRule: [ v => v.length <= 120 || 'Must be less than 120 characters' ]\n    }\n  },\n  computed: {\n    titleRule () { \n      return this.mustRule.concat(this.lenRule)\n    }\n  },\n  methods: {\n    onUpdate () {\n      if (!this.$refs.form.validate() || !checkAuth()) {\n        this.$message(\"Invalid Input or Need to Log in\")\n        return\n      }\n      let _uiid = this.uiid.replace(regUiid, '')\n      let data = {\n        id: this.itemid.trim(),\n        title: this.title.trim(),\n        uiid: _uiid,\n        authors: this.authors.trim(),\n        pub_at: this.pubDate.trim(),\n        publisher: this.publisher.trim(),\n        category: this.category.trim(),\n        url: this.url.trim(),\n        cover: this.cover.trim(),\n        edition: this.edition.trim(),\n        detail: this.detail.trim()\n      }\n      updateItem(this.itemid, data).then(resp => {\n        let id = resp.data.item.id\n        let updateTime = {'itemid':id, 'lastUpdate':0, 'ref':'lastUpdate'}\n        this.$store.commit('RENEW_ITEMS', updateTime)\n        this.$router.push(`/item/${id}`)\n      })\n    },\n    loadItem () {\n      let itemid = this.itemid = this.$route.params.id\n      this.$store.dispatch('getItem', itemid).then(resp => {\n        this.title = resp.title\n        this.uiid = resp.uiid\n        this.authors = resp.authors\n        this.pubDate = resp.pub_at\n        this.publisher = resp.publisher\n        this.category = resp.category\n        this.url = resp.url\n        this.cover = resp.cover\n        this.edition = resp.edition\n        this.detail = resp.detail\n      })\n    }\n  },\n  created () {\n    this.loadItem()\n  }\n}\n</script>\n\n<style scoped>\n.update-page {\n  padding: 20px 120px 20px 120px;\n  position: relative;\n}\n.title {\n  padding-bottom: 10px;\n}\n.update-form {\n  padding: 20px;\n  border: 1px dotted #689f38;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateItem.vue?vue&type=template&id=a2a05bc4&scoped=true&\"\nimport script from \"./UpdateItem.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpdateItem.vue?vue&type=style&index=0&id=a2a05bc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2a05bc4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateItem.vue?vue&type=style&index=0&id=a2a05bc4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateItem.vue?vue&type=style&index=0&id=a2a05bc4&scoped=true&lang=css&\""],"sourceRoot":""}