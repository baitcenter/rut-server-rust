(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb3436f0"],{"07d8":function(t,e,n){"use strict";var r=n("5aee"),i=n("9f79"),s="Set";t.exports=n("ada4")(s,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,s),t=0===t?0:t,t)}},r)},"0b64":function(t,e,n){var r=n("f772"),i=n("9003"),s=n("5168")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},4517:function(t,e,n){var r=n("a22a");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},4834:function(t,e,n){"use strict";var r=n("48fc"),i=n.n(r);i.a},"48fc":function(t,e,n){},"549b":function(t,e,n){"use strict";var r=n("d864"),i=n("63b6"),s=n("241e"),a=n("b0dc"),o=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");i(i.S+i.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=s(t),h="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,m=void 0!==p,_=0,g=l(d);if(m&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==g||h==Array&&o(g))for(e=c(d.length),n=new h(e);e>_;_++)u(n,_,m?p(d[_],_):d[_]);else for(f=g.call(d),n=new h;!(i=f.next()).done;_++)u(n,_,m?a(f,p,[i.value,_],!0):i.value);return n.length=_,n}})},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),s=n("4bf8"),a=n("79e5"),o=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(s(this)):o.call(s(this),i(t))}})},"57b1":function(t,e,n){var r=n("d864"),i=n("335c"),s=n("241e"),a=n("b447"),o=n("bfac");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,h=e||o;return function(e,o,v){for(var p,m,_=s(e),g=i(_),b=r(o,v,3),w=a(g.length),C=0,y=n?h(e,w):c?h(e,0):void 0;w>C;C++)if((d||C in g)&&(p=g[C],m=b(p,C,_),t))if(n)y[C]=m;else if(m)switch(t){case 3:return!0;case 5:return p;case 6:return C;case 2:y.push(p)}else if(l)return!1;return f?-1:u||l?l:y}}},"57e3":function(t,e,n){n("68f7")("Set")},"5aee":function(t,e,n){"use strict";var r=n("d9f6").f,i=n("a159"),s=n("5c95"),a=n("d864"),o=n("1173"),c=n("a22a"),u=n("30f1"),l=n("50ed"),f=n("4c95"),d=n("8e60"),h=n("ebfd").fastKey,v=n("9f79"),p=d?"_s":"size",m=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){o(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=r&&c(r,n,t[u],t)});return s(l.prototype,{clear:function(){for(var t=v(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var n=v(this,e),r=m(n,t);if(r){var i=r.n,s=r.p;delete n._i[r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==r&&(n._f=i),n._l==r&&(n._l=s),n[p]--}return!!r},forEach:function(t){v(this,e);var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!m(v(this,e),t)}}),d&&r(l.prototype,"size",{get:function(){return v(this,e)[p]}}),l},def:function(t,e,n){var r,i,s=m(t,e);return s?s.v=n:(t._l=s={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[p]++,"F"!==i&&(t._i[i]=s)),t},getEntry:m,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},"5d73":function(t,e,n){t.exports=n("469f")},"68f7":function(t,e,n){"use strict";var r=n("63b6"),i=n("79aa"),s=n("d864"),a=n("a22a");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,o,c=arguments[1];return i(this),e=void 0!==c,e&&i(c),void 0==t?new this:(n=[],e?(r=0,o=s(c,arguments[2],2),a(t,!1,function(t){n.push(o(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},"6e15":function(t,e,n){},7075:function(t,e,n){"use strict";var r=n("63b6");t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"74be":function(t,e,n){var r=n("63b6");r(r.P+r.R,"Set",{toJSON:n("f228")("Set")})},"774e":function(t,e,n){t.exports=n("d2d5")},"7d7b":function(t,e,n){var r=n("e4ae"),i=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"8fd5":function(t,e,n){},"9f79":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},ac1a:function(t,e,n){"use strict";var r=n("8fd5"),i=n.n(r);i.a},ac54:function(t,e,n){},ada4:function(t,e,n){"use strict";var r=n("e53d"),i=n("63b6"),s=n("ebfd"),a=n("294c"),o=n("35e8"),c=n("5c95"),u=n("a22a"),l=n("1173"),f=n("f772"),d=n("45f2"),h=n("d9f6").f,v=n("57b1")(0),p=n("8e60");t.exports=function(t,e,n,m,_,g){var b=r[t],w=b,C=_?"set":"add",y=w&&w.prototype,k={};return p&&"function"==typeof w&&(g||y.forEach&&!a(function(){(new w).entries().next()}))?(w=e(function(e,n){l(e,w,t,"_c"),e._c=new b,void 0!=n&&u(n,_,e[C],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in y&&(!g||"clear"!=t)&&o(w.prototype,t,function(n,r){if(l(this,w,t),!e&&g&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),g||h(w.prototype,"size",{get:function(){return this._c.size}})):(w=m.getConstructor(e,t,_,C),c(w.prototype,n),s.NEED=!0),d(w,t),k[t]=w,i(i.G+i.W+i.F,k),g||m.setStrong(w,t,_),w}},af24:function(t,e,n){"use strict";var r=n("6e15"),i=n.n(r);i.a},b6d0:function(t,e,n){t.exports=n("fa2b")},b97a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rut?n("div",{staticClass:"rut-page"},[n("div",{staticClass:"rut-view"},[n("div",{staticClass:"tagbar"},[n("el-button",{attrs:{type:"text"},on:{click:t.toAddTag}},[t._v("+Tag:")]),t._l(t.tags,function(e,r){return n("span",{key:r,staticClass:"tag"},[n("router-link",{attrs:{to:"/tag/"+e}},[n("b",[t._v(t._s(e))])]),n("sup",{staticClass:"hiden-del-tag",on:{click:function(n){return t.onDelTag(e,r)}}},[t._v("X")])],1)})],2),n("el-dialog",{attrs:{title:"Add Tag",width:"350px",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[n("el-input",{attrs:{size:"mini",placeholder:"Input a Tag, Press Enter to Add"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTag(e)}},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}}),t._l(t.newTags,function(e,r){return n("div",{key:r},[n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.newTags.splice(r,1)}}},[t._v("\n            ×\n          ")]),t._v("   \n          "+t._s(e)+" \n        ")],1)])}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.onAddTags}},[t._v("Add")])],1)],2),n("div",{staticClass:"title"},[n("h2",[t._v(t._s(t.rutTitle))]),n("div",{staticClass:"meta"},[[t.rut.author_id?n("span",[n("a",{attrs:{href:t.gen_url,target:"_blank"}},[t._v(t._s(t.rut.author_id))])]):n("span",[n("router-link",{attrs:{to:"/p/"+t.rut.uname}},[t._v(t._s(t.rut.uname))])],1)],t._v("\n        | "),n("span",[t._v(" "+t._s(t._f("toMDY")(t.rut.renew_at)))]),t._v("\n        | including "+t._s(t._f("pluralise")(t.rut.item_count,"item"))+" \n        | "),n("router-link",{attrs:{to:"/rforum/"+t.rutid}},[t._v("\n            "+t._s(t._f("pluralise")(t.rut.comment_count,"Comment"))+"\n          ")]),t.canEdit?n("router-link",{attrs:{to:"/update/r/"+t.rutid}},[n("b",[t._v(" | Edit...")])]):t._e(),t.canEdit?n("router-link",{attrs:{to:"/collect/"+t.rutid}},[n("b",[t._v(" | Add...")])]):t._e()],2)]),n("div",{staticClass:"content"},[n("div",{domProps:{innerHTML:t._s(t.md(t.rut.content))}})])],1),t._l(t.order_collects,function(e){return n("collect-sum",{key:e.id,staticClass:"item",attrs:{collect:e,canEdit:t.canEdit}})}),n("div",{staticClass:"toolbar"},[n("el-button",{attrs:{type:"text"},on:{click:t.starOrUnstarRut}},[t._v("\n      "+t._s("unstar"===t.starStatus?"Star":"Unstar")+"\n    ")]),n("share-bar")],1),n("div",{staticClass:"rut-side"},[n("div",{staticClass:"credential"},[n("span",{staticClass:"credential-title"},[t._v("About Creator(s)")]),n("div",{staticClass:"credential-body"},[n("span",[t._v(t._s(t.rut.author_id)+": ")]),n("span",[t._v(t._s(t.rut.credential))])])])])],2):t._e()},i=[],s=n("b6d0"),a=n.n(s),o=n("774e"),c=n.n(o),u=(n("a481"),n("5176")),l=n.n(u),f=n("5d73"),d=n.n(f),h=(n("55dd"),n("d722")),v=n("0a5a"),p=n("e6d6"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect-sum"},[n("div",{staticClass:"min-item"},[n("item-min-sum",{attrs:{item:t.collect}})],1),t.showCtn?n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.md(t.content))}}):t._e(),t.canEdit?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.showCtn=!t.showCtn}}},[t.showCtn?n("small",{staticClass:"hiden"},[t._v("Edit")]):n("b",[t._v("Cancel Edit")])]):t._e(),t.showCtn?t._e():n("div",[n("v-form",{ref:"form",staticClass:"collect-form"},[n("v-textarea",{attrs:{counter:"",rules:t.mustRule,"auto-grow":""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("el-button",{staticClass:"blockbtn",attrs:{size:"mini"},on:{click:t.editContent}},[t._v("\n      Done\n    ")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.showCfm=!0}}},[n("small",{staticStyle:{color:"red"}},[t._v("Delete")])]),n("el-dialog",{attrs:{title:"Confirm Delete?",width:"270px",visible:t.showCfm},on:{"update:visible":function(e){t.showCfm=e}}},[n("span",[t._v("Confirm Delete? Cannot Recover")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showCfm=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.delContent}},[t._v("\n          Confirm Delete\n        ")])],1)])],1)],1)},_=[],g=n("cf1d"),b={name:"collect-sum",props:["collect","canEdit"],components:{ItemMinSum:g["a"]},data:function(){return{showCtn:!0,showCfm:!1,content:"",mustRule:[function(t){return!!t||"required"}]}},methods:{md:function(t){return Object(p["a"])(t)},editContent:function(){var t=this,e=this.$store.getters.actID;if(this.$refs.form.validate()&&e===this.collect.uname&&Object(v["a"])()){var n={id:this.collect.cid,content:this.content.trim(),uname:e};Object(h["A"])(this.collect.cid,n).then(function(e){t.content=e.data.collect.content,t.showCtn=!0})}else this.$message("Invalid Input or Need to Log in")},delContent:function(){var t=this,e=this.$store.getters.actID;if(e!==this.collect.uname||!Object(v["a"])())return this.showCfm=!1,void this.$message("No Permission");Object(h["g"])(this.collect.cid).then(function(){t.showCfm=!1,t.showCtn=!0,t.$router.push("/r/".concat(t.collect.rutid))})}},created:function(){this.content=this.collect.content}},w=b,C=(n("4834"),n("2877")),y=Object(C["a"])(w,m,_,!1,null,"220a1330",null),k=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{id:"social-share-bar"}},[n("small",[t._v("Share:")]),n("a",{staticClass:"share-link twitter",attrs:{title:"Twitter",rel:"nofollow noopener noreferrer"},on:{click:function(e){e.preventDefault(),t.shareWindow("https://twitter.com/share?text="+t.title()+"&url="+t.url)}}},[n("small",{staticClass:"icon"},[t._v("Tw")])]),n("a",{staticClass:"share-link facebook",attrs:{title:"Facebook",rel:"nofollow noopener noreferrer"},on:{click:function(e){return e.preventDefault(),t.shareWindow("https://www.facebook.com/sharer/sharer.php?u="+t.url)}}},[n("small",{staticClass:"icon"},[t._v("Fb")])])])},T=[],S={name:"share-bar",props:{passUrl:String,passTitle:String,prefix:{type:String,default:""}},computed:{url:function(){return this.passUrl||"https://ruthub.com".concat(this.$route.fullPath)}},methods:{title:function(){try{if(document)return this.prefix+(this.passTitle||document.title)}catch(t){return"RutHub"}},shareWindow:function(t){t=encodeURI(t),console.log(t);var e="newWin",n=screen.availWidth/2,r=screen.availHeight/5*2,i=(screen.availHeight-r)/2,s=(screen.availWidth-n)/2,a="scrollbars=0,status=0,menubar=0,resizable=2,location=0",o="top=".concat(i,",left=").concat(s,",width=").concat(n,",height=").concat(r,",").concat(a),c=window.open(t,e,o);c.focus()}}},O=S,E=(n("af24"),Object(C["a"])(O,x,T,!1,null,"2cc69e87",null)),$=E.exports,j={name:"rut-view",components:{CollectSum:k,ShareBar:$},data:function(){return{rutTitle:"",rutid:"",items:[],collects:[],starStatus:"",tags:[],show:!1,rut_uname:"",newTag:"",newTags:[],delTags:[]}},computed:{rut:function(){return this.$store.state.rut.ruts[this.$route.params.id]},order_collects:function(){return this.collects.sort(function(t,e){return t.item_order-e.item_order})},gen_url:function(){var t=this.rut.url;return t||"https://www.google.com/search?q="+this.rut.author_id},canEdit:function(){return this.rut_uname===this.$store.getters.actID&&Object(v["a"])()}},title:function(){return this.rutTitle},methods:{loadRut:function(){var t=this,e=this.rutid=this.$route.params.id;this.$store.dispatch("getRut",e).then(function(n){t.rutTitle=n.title,t.loadItems(e),t.loadTags(e),t.rut_uname=n.uname})},loadItems:function(t){var e=this;Object(h["l"])("rut",t).then(function(n){var r=n.data.items;e.items=r,Object(h["h"])("rut",t).then(function(t){var n=!0,i=!1,s=void 0;try{for(var a,o=d()(t.data.collects);!(n=(a=o.next()).done);n=!0){var c=a.value,u=!0,f=!1,h=void 0;try{for(var v,p=d()(r);!(u=(v=p.next()).done);u=!0){var m=v.value;if(c.item_id===m.id){var _={cid:c.id,rutid:c.rut_id,uname:c.uname,item_order:c.item_order,content:c.content};l()(_,m),e.collects.push(_)}}}catch(g){f=!0,h=g}finally{try{u||null==p.return||p.return()}finally{if(f)throw h}}}}catch(g){i=!0,s=g}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}})})},loadTags:function(t){var e=this;Object(h["p"])("rut",t).then(function(t){e.tags=t.data.tags})},toAddTag:function(){Object(v["a"])()?this.show=!0:this.$message("Need to Log in")},addNewTag:function(){var t=this.newTag.trim().replace(/[ ]/gi,"-");t&&t.length<42?(this.newTags.push(t),this.newTag=""):this.$message({showClose:!0,message:"Must be 42 less and no whitespace"})},onAddTags:function(){if(Object(v["a"])()){if(this.newTags.length<=0)return;var t=c()(new a.a(this.newTags)),e={tnames:t,rut_id:this.rutid,action:"1"};Object(h["z"])(1,this.rutid,e),this.show=!1,this.tags=this.tags.concat(t)}else this.$message({showClose:!0,message:"Should Log in to Continue"}),this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},onDelTag:function(t,e){var n=this;if(Object(v["a"])()){var r=confirm("Are You Sure to Delete this Tag?");if(r){var i={tnames:[t],rut_id:this.rutid,action:"0"};Object(h["z"])(0,this.rutid,i).then(function(){return n.tags.splice(e,1)})}}},checkStar:function(){var t=this;Object(v["a"])()?Object(h["d"])(this.rutid).then(function(e){200===e.data.status&&(t.starStatus=e.data.message)}):this.starStatus="unstar"},starOrUnstarRut:function(){var t=this;Object(v["a"])()||(this.$message({message:"Please Login"}),this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}}));var e=this.rutid;"unstar"===this.starStatus?Object(h["x"])(e,1).then(function(e){t.starStatus=e.data.message}):Object(h["x"])(e,0).then(function(e){t.starStatus=e.data.message})},md:function(t){return Object(p["a"])(t)}},watch:{$route:"loadRut"},created:function(){this.loadRut(),this.checkStar()}},A=j,z=(n("c2a0"),Object(C["a"])(A,r,i,!1,null,"d5ec094c",null));e["default"]=z.exports},bfac:function(t,e,n){var r=n("0b64");t.exports=function(t,e){return new(r(t))(e)}},c2a0:function(t,e,n){"use strict";var r=n("ac54"),i=n.n(r);i.a},c6fb:function(t,e,n){n("7075")("Set")},cf1d:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-info"},[t.item.item_order?n("sup",{staticClass:"indicator"},[t._v("#"+t._s(t.item.item_order)+" ")]):t._e(),n("router-link",{attrs:{to:"/item/"+t.item.id}},[t._v(t._s(t.item.title))]),n("small",{staticClass:"meta"},[n("br"),t._v(" "+t._s(t.item.uiid)+"  "+t._s(t.item.authors)+"\n  ")]),n("span",[n("img",{staticClass:"thumb",attrs:{src:t.item.cover,referrerPolicy:"no-referrer"}})])],1)},i=[],s={name:"item-min-sum",props:["item"]},a=s,o=(n("ac1a"),n("2877")),c=Object(o["a"])(a,r,i,!1,null,"51c90437",null);e["a"]=c.exports},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f228:function(t,e,n){var r=n("40c3"),i=n("4517");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},fa2b:function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("07d8"),n("74be"),n("c6fb"),n("57e3"),t.exports=n("584a").Set}}]);
//# sourceMappingURL=chunk-eb3436f0.55947adb.js.map